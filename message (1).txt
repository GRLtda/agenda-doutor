{
    type: "event",
    label: "Gatilho",
    description: "Inicia o workflow baseado em um evento",
    subtypes: [
      {
        subtype: "procedure_completed",
        label: "Procedimento Realizado",
        description: "Dispara quando um procedimento é marcado como realizado",
        configSchema: [
          {
            key: "procedure_code",
            type: "string",
            label: "Código do Procedimento (ex: BOTOX)",
            required: true,
          },
        ],
      },
    ],
  },
  {
    type: "action",
    label: "Ação",
    description: "Executa uma tarefa",
    subtypes: [
      {
        subtype: "send_message",
        label: "Enviar Mensagem (WhatsApp)",
        description: "Envia uma mensagem para o paciente",
        configSchema: [
          {
            key: "message",
            type: "text",
            label: "Conteúdo da Mensagem",
            required: true,
            helperText: "Use variáveis como {primeiro_nome}, {nome_paciente}",
          },
        ],
      },
      {
        subtype: "update_patient",
        label: "Atualizar Paciente",
        description: "Atualiza dados do cadastro do paciente",
        configSchema: [], // A definir
        disabled: true, // Ainda não implementado
      },
      {
        subtype: "create_appointment",
        label: "Agendar Retorno",
        description: "Cria um agendamento automático",
        configSchema: [], // A definir
        disabled: true, // Ainda não implementado
      },
    ],
  },
  {
    type: "wait",
    label: "Aguardar",
    description: "Pausa o fluxo por um tempo determinado",
    subtypes: [
      {
        subtype: "wait_days",
        label: "Esperar Dias",
        description: "Aguarda X dias antes de continuar",
        configSchema: [
          {
            key: "days",
            type: "number",
            label: "Dias",
            required: true,
            min: 0,
          },
          {
            key: "hours",
            type: "number",
            label: "Horas",
            required: false,
            min: 0,
            max: 23,
          },
          {
            key: "minutes",
            type: "number",
            label: "Minutos",
            required: false,
            min: 0,
            max: 59,
          },
        ],
      },
    ],
  },
  {
    type: "condition",
    label: "Condição",
    description: "Desvia o fluxo baseado em regras",
    subtypes: [
      {
        subtype: "check_variable",
        label: "Verificar Variável",
        description: "Verifica valor de variáveis do contexto",
        configSchema: [
          {
            key: "conditions",
            type: "array",
            label: "Regras",
            itemSchema: {
              variable: { type: "string", label: "Variável" },
              operator: { type: "select", options: ["equals", "contains", "gt", "lt"] },
              value: { type: "string", label: "Valor" },
            },
          },
        ],
      },
    ],
  },